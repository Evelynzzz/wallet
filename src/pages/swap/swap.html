<!--
  Generated template for the SwapPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>swap</ion-title>
  </ion-navbar>

</ion-header>


<ion-content class="card">
  <div class="card">
    <ion-item class="">
      <ion-label color="primary">{{
        'From' | translate
        }}</ion-label>

      <ion-select id="fromCoin" okText="ok" cancelText="cancel" [(ngModel)]="fromCoin" (ionChange)="handleChangeFromCoin(fromCoin)">
          <ion-option *ngFor="let token of tokens" [value]="token">{{
            token.symbol | translate
            }}</ion-option>
        </ion-select>
    </ion-item>
    <ion-item class="">
      <ion-label color="primary">{{
        'From' | translate
        }}</ion-label>

      <ion-input id='fromQty' type="number" [(ngModel)]="fromCoin && fromCoin.symbol=='ETH' && ethQty || tokenQty" (ionChange)="handleChangeTokenQty()" placeholder="0" required clearInput [disabled]="fromCoin && fromCoin.symbol=='ETH'" ></ion-input>
    </ion-item>
    <ion-item class="">
      <ion-label color="primary">{{
        'To' | translate
        }}</ion-label>

      <ion-select id="toCoin" okText="ok" cancelText="cancel" [(ngModel)]="toCoin" (ionChange)="handleChangeToCoin(toCoin)">
          <ion-option *ngFor="let token of tokens" [value]="token" [selected]="token.symbol==toCoin">{{
            token.symbol | translate
            }}</ion-option>
        </ion-select>
    </ion-item>
    <ion-item class="">
      <ion-label color="primary">{{
        'To' | translate
        }}</ion-label>
      <ion-input id='toQty' type="number" [(ngModel)]="toCoin && toCoin.symbol=='ETH'&& ethQty || tokenQty"  (ionChange)="handleChangeTokenQty()" placeholder="0" required clearInput [disabled]="toCoin && toCoin.symbol=='ETH'"></ion-input>
    </ion-item>
   <button [disabled]="customSatPerByte >= maxFeeAllowed || showError" (click)="ok()" class="button-standard"
      ion-button>
      {{ 'Start Swap' | translate }}
    </button>

    <ion-note>{{message}}</ion-note>
    <ion-note ng-show="showResult">
      {{txSuccess?'Swap successed!':'Swap failed!'}}
      <p>You can go <a href="'https:\/\/ropsten.etherscan.io\/tx\/'+txHash" target="blank" >HERE </a> to check the details of your swap transaction.</p>
    </ion-note>    
  </div>
</ion-content>
